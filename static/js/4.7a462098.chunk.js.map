{"version":3,"sources":["components/Users/Users.module.css","components/Users/UsersPagination.module.css","components/Users/UsersPagination.jsx","components/Users/UsersFuncPresentation.jsx","components/Users/UsersApiClassComponent.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","main-color","ava_picture","pageSelected","pointer","users_info","users_info_text","button_follow","pagination","numb","dots","btn","blure","prev","next","active","UsersPagination","props","pagePanelArr","i","firstNumberPanel","push","React","createElement","className","classes","onClick","setFirstNumberPanel","setCurrentPage","changePage","fas","faAngleLeft","map","elem","currentPage","numbersPage","UsersFuncPresentation","pages","Math","ceil","usersSum","pageSize","console","log","users","u","NavLink","to","id","src","photos","small","userPhoto","name","status","followed","disabled","followingInProgress","unfollowThunkCreator","followThunkCreator","UsersApiClassComponent","_React$Component","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","pageNumber","getUsersThunkCreator","_inherits","_createClass","key","value","Fragment","isFetching","LoaderCompnent","Object","assign","Component","getUsers","state","usersPage","getPageSize","getUsersSum","getCurrentPage","getFirstNumberPanel","getIsFetching","getFollowingInProgress","connect","follow","unfollow"],"mappings":"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","file":"static/js/4.7a462098.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-color\":\"Users_main-color__UuQ0V\",\"ava_picture\":\"Users_ava_picture__1mAd6\",\"pageSelected\":\"Users_pageSelected__3yJs9\",\"pointer\":\"Users_pointer__3msEL\",\"users_info\":\"Users_users_info__1Nd7T\",\"users_info_text\":\"Users_users_info_text__WVjsF\",\"button_follow\":\"Users_button_follow__3NQVp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"UsersPagination_pagination__2kVJw\",\"numb\":\"UsersPagination_numb__1KxBH\",\"dots\":\"UsersPagination_dots__2UJSL\",\"btn\":\"UsersPagination_btn__3iHcT\",\"blure\":\"UsersPagination_blure__1bKbf\",\"prev\":\"UsersPagination_prev__3D_7j\",\"next\":\"UsersPagination_next__3M0hF\",\"active\":\"UsersPagination_active__7E8AJ\"};","import React from \"react\";\nimport classes from \"./UsersPagination.module.css\";\n\n\nlet UsersPagination = (props) => {   \n    let pagePanelArr = [];   \n    let i = props.firstNumberPanel    \n    for (i; i <= props.firstNumberPanel + 7; i++){\n        pagePanelArr.push(i);\n    }\n    return (\n<div>\t\t\t\n    <div className={classes.pagination}>\n        <ul> \n\n        <li className={pagePanelArr[0] > 1 ? (classes.btn+ \" \" +classes.prev):(classes.btn+ \" \" +classes.blure)} \n              onClick = {() => {props.setFirstNumberPanel(props.firstNumberPanel-8); \n                                props.setCurrentPage(props.firstNumberPanel-8);\n                                props.changePage(props.firstNumberPanel-8);\n            }}>\n        <span><i className={classes.fas+ \" \" +classes.faAngleLeft}></i>{\"prev\"}</span></li>\n                       \n\n        {pagePanelArr.map(elem => {\n            return (\n                <li className={classes.numb + \" \" + (elem == props.currentPage && classes.active)}\n                    onClick = {() => {props.setCurrentPage(elem); \n                                    props.changePage(elem);\n                                    }}>\n                <span>{elem}</span></li>\n            )\n        })}\n           \n\n        {props.currentPage < props.numbersPage-8 ? <li className={classes.dots}><span>...</span></li>: null}\n        {/* <li className={props.currentPage < props.numbersPage-8 ? classes.dots: classes.blure}>...</li> */}\n        {/* <li className={classes.dots}><span>{props.currentPage < props.numbersPage-8 ? \"...\" : \"\"}</span></li> */}\n\n        <li className={classes.numb}\n                onClick = {() => {props.setCurrentPage(props.numbersPage); \n                                props.changePage(props.numbersPage);\n                                props.setFirstNumberPanel(props.numbersPage-8)\n                                }}>            \n                <span>{props.numbersPage}</span></li>\n\n        <li className={classes.btn+ \" \" +classes.next}\n                onClick = {() => {props.setFirstNumberPanel(props.firstNumberPanel+8); \n                                props.setCurrentPage(props.firstNumberPanel+8);\n                                props.changePage(props.firstNumberPanel+8);\n                                }}>\n                <span><i className={classes.fas+ \" \" +classes.faAngleLeft}></i>{\"next\"}</span></li>\n\n        </ul> \n    </div>\n</div>        \n\n    )\n}\n\nexport default UsersPagination;","import React from \"react\";\nimport { NavLink } from 'react-router-dom';\nimport classes from \"./Users.module.css\";\nimport userPhoto from \"../../assets/images/user.png\";\nimport UsersPagination from \"./UsersPagination.jsx\";\nimport * as axios from \"axios\";\nimport {usersAPI} from \"../../api/api.js\"\n\nlet UsersFuncPresentation = (props) => {\n\t\n    let pages = [];\n\t\tlet numbersPage = Math.ceil(props.usersSum / props.pageSize);\n\t\tfor (let i = 1; i <= numbersPage; i++){\n\t\t\tpages.push(i);\n\t\t}\t\t\n\t\treturn (\t\t\n\t\t\t<div>\t\n\t\t\t\t<UsersPagination \n\t\t\t\tcurrentPage={props.currentPage}\n\t\t\t\tnumbersPage={numbersPage}\n\t\t\t\tsetCurrentPage={props.setCurrentPage}\n\t\t\t\tchangePage={props.changePage}\n\t\t\t\tfirstNumberPanel = {props.firstNumberPanel}\n\t\t\t\tsetFirstNumberPanel = {props.setFirstNumberPanel}\n\t\t\t\t/>\n\t\t\t\n\t\t\t{\t\tconsole.log(props.users)}\n\t\t\t\t\n\t\t\t\t{props.users.map(u => <div className={classes.users_info}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<NavLink to={\"/Profile/\" + u.id}>\n\t\t\t\t\t\t\t<img src={u.photos.small != null ? u.photos.small : userPhoto} className={classes.ava_picture}/>\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={classes.users_info_text}>\n\t\t\t\t\t\t<div>Имя: {u.name},</div>\n\t\t\t\t\t\t<div>ID: {u.id},</div>\n\t\t\t\t\t\t<div>Статус: \"{u.status || \"нет статуса\"}\",</div>\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t{u.followed ? \n\t\t\t\t\t\t<button disabled = {\n\t\t\t\t\t\t\t\tprops.followingInProgress == u.id ? true : false\n\t\t\t\t\t\t\t} onClick={() => {\n\t\t\t\t\t\t\t\tprops.unfollowThunkCreator(u.id);\n\t\t\t\t\t\t\t// props.toggleIsFollowingProgress(u.id);\n\t\t\t\t\t\t\t// usersAPI.unfollowUser(u.id)\n\t\t\t\t\t\t\t// .then(data => {\n\t\t\t\t\t\t\t// \tif (data.resultCode == 0){\n\t\t\t\t\t\t\t// \t\tprops.unfollow(u.id);\n\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t// \tprops.toggleIsFollowingProgress(0);\n\t\t\t\t\t\t\t// })\t\t\t\t\t\t\n\t\t\t\t\t\t}}>убрать из друзей</button> : \n\n\t\t\t\t\t\t<button disabled = {\n\t\t\t\t\t\t\t\tprops.followingInProgress == u.id ? true : false\n\t\t\t\t\t\t\t}className={classes.button_follow} onClick={() => {\n\t\t\t\t\t\t\t\tprops.followThunkCreator(u.id);\n\n\t\t\t\t\t\t\t// props.toggleIsFollowingProgress(u.id);\n\t\t\t\t\t\t\t// usersAPI.followUser(u.id)\n\t\t\t\t\t\t\t// .then(data => {\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// \tif (data.resultCode == 0){\n\t\t\t\t\t\t\t// \t\tprops.follow(u.id);\n\t\t\t\t\t\t\t// \t}\t\n\t\t\t\t\t\t\t// \tprops.toggleIsFollowingProgress(0)\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// });\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}}>добавить в друзья</button>}\n\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t</div>)}\n\t\t\t</div>\n\t\t\t\n\t\t)\n}\n\nexport default UsersFuncPresentation;","\nimport * as axios from \"axios\";\n\nimport {usersAPI} from \"../../api/api.js\"\nimport React from \"react\";\nimport UsersFuncPresentation from \"./UsersFuncPresentation\"\nimport LoaderCompnent from \"../LoaderComponent/LoaderComponent.jsx\"\n\nclass UsersApiClassComponent extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t}\n\tcomponentDidMount(){\t\t\n\t\tthis.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize);\t\t\n\t\t// this.props.setIsFetching(true);\n\t\t\n\t\t// usersAPI.getUsers(this.props.currentPage, this.props.pageSize)\n\t\t// .then(data => {\t\t\t\t\n\t\t// \tthis.props.setIsFetching(false);\n\t\t// \tthis.props.setUsers(data.items);\t\t\t\n\t\t// \tthis.props.setUsersSum(data.totalCount);\n\t\t// });\n\t}\n\tchangePage = (pageNumber) => {\n\n\t\tthis.props.getUsersThunkCreator(pageNumber, this.props.pageSize);\n\t\t// this.props.setIsFetching(true);\t\t\t\n\t\t// usersAPI.getUsers(pageNumber, this.props.pageSize)\t\t\n\t\t// .then(data => {\t\t\n\t\t// \tthis.props.setIsFetching(false);\t\t\n\t\t// \tthis.props.setUsers(data.items);\t\t\t\n\t\t// });\n\t}\n\n\trender(){\t\t\t\n\t\treturn <>\n\t\t{this.props.isFetching ?  \n\t\t<LoaderCompnent/> : null}\n\t\t\t<UsersFuncPresentation {...this.props} changePage = {this.changePage}/>\t\t\n\t\t</>\n\t}\n}\n\nexport default UsersApiClassComponent;","export const getUsers = (state) => {\n    return state.usersPage.users\n}\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getUsersSum = (state) => {\n    return state.usersPage.usersSum\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport const getFirstNumberPanel = (state) => {\n    return state.usersPage.firstNumberPanel\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress\n}\n\n","import {connect} from \"react-redux\";\nimport UsersApiClassComponent from \"./UsersApiClassComponent\";\nimport {follow, unfollow, setCurrentPage, \n    setFirstNumberPanel, getUsersThunkCreator, \n    unfollowThunkCreator, followThunkCreator} from \"../../redux/users-reducer\";\nimport {getUsers, getPageSize, getUsersSum, \n    getCurrentPage, getFirstNumberPanel, getIsFetching, getFollowingInProgress} from \"../../redux/users-selectors.js\"\n\nlet mapStateToProps = (state) => {    \n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        usersSum: getUsersSum(state),\n        currentPage: getCurrentPage(state),\n        firstNumberPanel: getFirstNumberPanel(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),          \n        }\n}\n// let mapDispatchToProps = (dispatch) => {\n//     return {\n//         follow: (userID) => {\n//             dispatch(followActionCreator(userID));\n//         },        \n//         unfollow: (userID) => {\n//              dispatch(unfollowActionCreator(userID));\n//         },\n//         setUsers: (users) => {\n//             dispatch(setUsersActionCreator(users));\n//         },\n//         setCurrentPage: (CurrentPage) => {\n//             dispatch(setCurrentPageActionCreator(CurrentPage));\n//         },\n//         setUsersSum: (usersSum) => {\n//             dispatch(usersSumActionCreator(usersSum));\n//         },\n//         setIsFetching: (value) => {\n//             dispatch(toggleIsFetchingActionCreator(value));\n//         }\n//     }\n// }\nexport default connect(mapStateToProps, \n    {\n        follow,        \n        unfollow,        \n        setCurrentPage,                \n        setFirstNumberPanel,        \n        getUsersThunkCreator,\n        unfollowThunkCreator,\n        followThunkCreator      \n    }\n    )(UsersApiClassComponent);"],"sourceRoot":""}